(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1992:(e,t,s)=>{Promise.resolve().then(s.bind(s,3402))},3402:(e,t,s)=>{"use strict";s.d(t,{default:()=>D});var n=s(5155),a=s(2115);class i extends a.Component{render(){return(0,n.jsx)("span",{className:this.colorClass(),children:i.faces[this.props.value][this.props.suitValue]},"c-".concat(this.cardID))}isTen(){return this.props.value>8}isAce(){return 0===this.props.value}colorClass(){let e="card ";return e+([1,2].indexOf(this.props.suitValue)>-1?"red":"black")}constructor(e){super(e),this.cardID=0,this.cardID=i.cardID++}}i.faces=[["\uD83C\uDCA1","\uD83C\uDCB1","\uD83C\uDCC1","\uD83C\uDCD1"],["\uD83C\uDCA2","\uD83C\uDCB2","\uD83C\uDCC2","\uD83C\uDCD2"],["\uD83C\uDCA3","\uD83C\uDCB3","\uD83C\uDCC3","\uD83C\uDCD3"],["\uD83C\uDCA4","\uD83C\uDCB4","\uD83C\uDCC4","\uD83C\uDCD4"],["\uD83C\uDCA5","\uD83C\uDCB5","\uD83C\uDCC5","\uD83C\uDCD5"],["\uD83C\uDCA6","\uD83C\uDCB6","\uD83C\uDCC6","\uD83C\uDCD6"],["\uD83C\uDCA7","\uD83C\uDCB7","\uD83C\uDCC7","\uD83C\uDCD7"],["\uD83C\uDCA8","\uD83C\uDCB8","\uD83C\uDCC8","\uD83C\uDCD8"],["\uD83C\uDCA9","\uD83C\uDCB9","\uD83C\uDCC9","\uD83C\uDCD9"],["\uD83C\uDCAA","\uD83C\uDCBA","\uD83C\uDCCA","\uD83C\uDCDA"],["\uD83C\uDCAB","\uD83C\uDCBB","\uD83C\uDCCB","\uD83C\uDCDB"],["\uD83C\uDCAD","\uD83C\uDCBD","\uD83C\uDCCD","\uD83C\uDCDD"],["\uD83C\uDCAE","\uD83C\uDCBE","\uD83C\uDCCE","\uD83C\uDCDE"],["\uD83C\uDCA0","","",""]],i.cardID=0;var r=function(e){return e[e.Unknown=0]="Unknown",e[e.Won=1]="Won",e[e.Lost=2]="Lost",e[e.Push=3]="Push",e}({}),h=function(e){return e[e.Soft=0]="Soft",e[e.Hard=1]="Hard",e}({});class d{dealCard(){if(null===this.game)return;let e=this.game.shoe.getNextCard();void 0!==e&&this.cards.push(e)}constructor(e){this.cards=[],this.stood=!1,this.played=!1,this.game=e}}class c extends a.Component{render(){return(0,n.jsxs)("div",{className:"".concat(D.isLinux()?"linux":"").concat(D.isWindoze()?"windoze":""),children:[this.displayHand().cards.map(e=>e.render()),(0,n.jsxs)("div",{className:"count black",children:["⇒ ",this.getValue(h.Soft)]})]})}displayHand(){let e=new d(this.game);for(let t=0;t<this.hand.cards.length;t++)e.cards.push(1===t&&this.hideDownCard?new i({value:13,suitValue:0}):this.hand.cards[t]);return e}upCardIsAce(){return this.hand.cards[0].isAce()}isBusted(){return this.getValue(h.Soft)>21}getValue(e){let t=0,s=0;for(let n=0;n<this.hand.cards.length;n++){if(1===n&&this.hideDownCard)continue;let a=this.hand.cards[n].props.value+1;t=a>9?10:a,e===h.Soft&&1===t&&s<11&&(t=11),s+=t}return e===h.Soft&&s>21?this.getValue(h.Hard):s}constructor(e){super(e),this.hideDownCard=!0,this.game=e,this.hand=new d(e)}}class l extends a.Component{render(){return null===this.game?null:(0,n.jsx)("form",{onSubmit:this.game.updateBet,children:(0,n.jsxs)("div",{className:"input-group get-bet",children:[(0,n.jsx)("div",{className:"input-group-prepend",children:(0,n.jsx)("span",{className:"input-group-text",children:"$"})}),(0,n.jsx)("input",{type:"text",name:"betValue",className:"form-control",defaultValue:this.game.formattedBet()}),(0,n.jsx)("button",{className:"btn btn-dark",children:"Update"})]})})}constructor(e){super(e),this.game=e.game}}class u extends a.Component{render(){return null===this.game?null:(0,n.jsx)("form",{onSubmit:this.game.updateDeckCount,children:(0,n.jsxs)("div",{className:"input-group get-deck-count",children:[(0,n.jsx)("input",{type:"text",name:"deckCountValue",className:"form-control",defaultValue:this.game.numDecks.toString()}),(0,n.jsx)("button",{className:"btn btn-dark",children:"Update"})]})})}constructor(e){super(e),this.game=e.game}}class o extends a.Component{render(){return null===this.game?null:(0,n.jsxs)("div",{className:"menu-buttons",children:[(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newRegular,children:"Regular"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newAces,children:"Aces"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newJacks,children:"Jacks"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newAcesJacks,children:"A & J"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newSevens,children:"Sevens"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.newEights,children:"Eights"})]})}constructor(e){super(e),this.game=e.game}}class p extends a.Component{render(){return null===this.game?null:(0,n.jsxs)("div",{className:"menu-buttons",children:[(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.dealNewHand,children:"Deal"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.getNewBet,children:"Bet"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.gameOptions,children:"Options"})]})}constructor(e){super(e),this.game=e.game}}class m extends a.Component{render(){if(null===this.game)return null;let e=this.game.currentPlayerHand().canDbl()?"":" disabled",t=this.game.currentPlayerHand().canHit()?"":" disabled",s=this.game.currentPlayerHand().canStand()?"":" disabled",a=this.game.currentPlayerHand().canSplit()?"":" disabled";return(0,n.jsxs)("div",{className:"menu-buttons",children:[(0,n.jsx)("div",{className:"btn btn-dark".concat(e),onClick:this.game.currentPlayerHand().dbl,children:"Double"}),(0,n.jsx)("div",{className:"btn btn-dark".concat(t),onClick:this.game.currentPlayerHand().hit,children:"Hit"}),(0,n.jsx)("div",{className:"btn btn-dark".concat(s),onClick:this.game.currentPlayerHand().stand,children:"Stand"}),(0,n.jsx)("div",{className:"btn btn-dark".concat(a),onClick:this.game.splitCurrentHand,children:"Split"})]})}constructor(e){super(e),this.game=e.game}}class g extends a.Component{render(){return null===this.game?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"word",children:"Insurance?"}),(0,n.jsxs)("div",{className:"menu-buttons",children:[(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.noInsurance,children:"No"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.insureHand,children:"Yes"})]})]})}constructor(e){super(e),this.game=e.game}}class f extends a.Component{render(){return null===this.game?null:(0,n.jsxs)("div",{className:"menu-buttons",children:[(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.getDeckCount,children:"Decks"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.getDeckType,children:"Type"}),(0,n.jsx)("div",{className:"btn btn-dark",onClick:this.game.optionsBack,children:"Back"})]})}constructor(e){super(e),this.game=e.game}}var k=function(e){return e[e.MenuGame=0]="MenuGame",e[e.MenuHand=1]="MenuHand",e[e.MenuBet=2]="MenuBet",e[e.MenuDeckType=3]="MenuDeckType",e[e.MenuDeckCount=4]="MenuDeckCount",e[e.MenuInsurance=5]="MenuInsurance",e[e.MenuOptions=6]="MenuOptions",e}({});class H extends a.Component{render(){return null===this.game?null:(0,n.jsx)(n.Fragment,{children:(()=>{switch(this.game.currentMenu){case 0:return(0,n.jsx)(p,{game:this.game});case 6:return(0,n.jsx)(f,{game:this.game});case 1:return(0,n.jsx)(m,{game:this.game});case 5:return(0,n.jsx)(g,{game:this.game});case 2:return(0,n.jsx)(l,{game:this.game});case 4:return(0,n.jsx)(u,{game:this.game});case 3:return(0,n.jsx)(o,{game:this.game})}})()})}constructor(e){super(e),this.game=e.game}}class y extends a.Component{static clone(e){let t=new y(e.game,e.bet);for(let s of e.hand.cards){let e=new i({value:s.props.value,suitValue:s.props.suitValue});t.hand.cards.push(e)}return t}render(){let e="".concat(D.isLinux()?"linux":"").concat(D.isWindoze()?"windoze":"");return(0,n.jsxs)("div",{className:e,children:[this.hand.cards.map((e,t)=>(0,n.jsx)("span",{children:e.render()},"ph-".concat(e.cardID,"-").concat(t))),(0,n.jsxs)("div",{className:"count black",children:["⇒ ",this.getValue(h.Soft)," \xa0",this.statusDisplay(),this.betDisplay(),this.currentHandDisplay()," \xa0",this.statusDisplayText()]})]},"phs-".concat(this.playerHandID))}hit(){if(this.canHit()){if(this.hand.dealCard(),this.isDone()){this.process(),this.game.forceUpdate();return}this.game.forceUpdate()}}dbl(){this.canDbl()&&(this.hand.dealCard(),this.hand.stood=!0,this.hand.played=!0,this.bet*=2,this.isDone()&&this.process(),this.game.forceUpdate())}stand(){if(this.canStand()){if(this.hand.stood=!0,this.hand.played=!0,this.game.moreHandsToPlay())return void this.game.playMoreHands();this.game.playDealerHand(),this.game.currentMenu=k.MenuGame,this.game.forceUpdate()}}process(){if(this.game.moreHandsToPlay())return void this.game.playMoreHands();this.game.playDealerHand(),this.game.currentMenu=k.MenuGame,this.game.forceUpdate()}canSplit(){return!(this.hand.stood||this.game.playerHands.length>=7||this.game.money<this.game.allBets()+this.bet)&&2===this.hand.cards.length&&this.hand.cards[0].props.value===this.hand.cards[1].props.value}canDbl(){return!(this.game.money<this.game.allBets()+this.bet)&&!(this.hand.stood||2!==this.hand.cards.length||this.isBusted()||D.isBlackjack(this.hand.cards))}canStand(){return!(this.hand.stood||this.isBusted()||D.isBlackjack(this.hand.cards))}canHit(){return!(this.hand.played||this.hand.stood||21===this.getValue(h.Hard)||D.isBlackjack(this.hand.cards)||this.isBusted())}isDone(){return(!!(this.hand.played||this.hand.stood||D.isBlackjack(this.hand.cards)||this.isBusted())||21===this.getValue(h.Soft)||21===this.getValue(h.Hard))&&(this.hand.played=!0,!this.paid&&this.isBusted()&&(this.paid=!0,this.status=r.Lost,this.game.money-=this.bet),!0)}isBusted(){return this.getValue(h.Soft)>21}getValue(e){let t,s=0;for(let n of this.hand.cards){let a=n.props.value+1;t=a>9?10:a,e===h.Soft&&1===t&&s<11&&(t=11),s+=t}return e===h.Soft&&s>21?this.getValue(h.Hard):s}statusDisplay(){switch(this.status){case r.Won:return"+";case r.Lost:return"-"}return""}statusDisplayText(){if(this.status===r.Lost)if(this.isBusted())return"Busted!";else return"Lose!";if(this.status===r.Won)if(D.isBlackjack(this.hand.cards))return"Blackjack!";else return"Won!";return this.status===r.Push?"Push":""}betDisplay(){return D.formattedMoney(this.bet)}currentHandDisplay(){return this.hand.played||this.game.currentPlayerHand()!==this?"":" ⇐"}constructor(e,t){super(e),this.status=r.Unknown,this.paid=!1,this.game=e,this.bet=t,this.hand=new d(e),this.playerHandID=y.totalPlayerHands++,this.dbl=this.dbl.bind(this),this.stand=this.stand.bind(this),this.hit=this.hit.bind(this)}}y.totalPlayerHands=0;var b=function(e){return e[e.Regular=0]="Regular",e[e.Aces=1]="Aces",e[e.Jacks=2]="Jacks",e[e.AcesJacks=3]="AcesJacks",e[e.Sevens=4]="Sevens",e[e.Eights=5]="Eights",e[e.ShoeTypeCount=6]="ShoeTypeCount",e}({});class w{static shuffleArray(e){let t,s,n=e.length;for(;0!==n;)s=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[s],e[s]=t;return e}needToShuffle(){if(0===this.cards.length)return!0;let e=52*this.numDecks,t=(e-this.cards.length)/e*100;for(let e=0;e<8;e++)if(t>w.shuffleSpecs[e][0]&&this.numDecks===w.shuffleSpecs[e][1])return!0;return!1}shuffle(){for(let e=0;e<7;e++)this.cards=w.shuffleArray(this.cards)}newShoe(e){switch(e){case 0:this.newRegular();break;case 1:this.newAces();break;case 2:this.newJacks();break;case 3:this.newAcesJacks();break;case 4:this.newSevens();break;case 5:this.newEights()}}newRegular(){this.cards=[];for(let e=0;e<this.numDecks;e++)for(let e=0;e<4;e++)for(let t=0;t<13;t++)this.cards.push(new i({value:t,suitValue:e}));this.shuffle()}newEights(){this.cards=[];for(let e=0;e<5*this.numDecks;e++)for(let e=0;e<4;e++)this.cards.push(new i({value:7,suitValue:e}));this.shuffle()}newSevens(){this.cards=[];for(let e=0;e<5*this.numDecks;e++)for(let e=0;e<4;e++)this.cards.push(new i({value:6,suitValue:e}));this.shuffle()}newAces(){this.cards=[];for(let e=0;e<5*this.numDecks;e++)for(let e=0;e<4;e++)this.cards.push(new i({value:0,suitValue:e}));this.shuffle()}newJacks(){this.cards=[];for(let e=0;e<5*this.numDecks;e++)for(let e=0;e<4;e++)this.cards.push(new i({value:10,suitValue:e}));this.shuffle()}newAcesJacks(){this.cards=[];for(let e=0;e<5*this.numDecks;e++)for(let e=0;e<4;e++)this.cards.push(new i({value:0,suitValue:e})),this.cards.push(new i({value:10,suitValue:e}));this.shuffle()}getNextCard(){let e=this.cards.pop();if(void 0===e)throw Error("No cards left in the shoe");return e}constructor(e){this.numDecks=1,this.cards=[],this.numDecks=e,this.newRegular=this.newRegular.bind(this)}}w.shuffleSpecs=[[95,8],[92,7],[89,6],[86,5],[84,4],[82,3],[81,2],[80,1]];class x extends a.Component{static isLinux(){return navigator.userAgent.indexOf("Linux")>-1||navigator.userAgent.indexOf("X11")>-1}static isWindoze(){return navigator.userAgent.indexOf("Windows")>-1}static isBlackjack(e){return 2===e.length&&(e[0].isAce()&&e[1].isTen()||e[1].isAce()&&e[0].isTen())}static formattedMoney(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}render(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"word black",children:"Dealer:"},"d"),this.dealerHand.render(),(0,n.jsxs)("div",{className:"word black",children:["Player ",x.formattedMoney(this.money),":"]},"p"),this.playerHands.map(e=>e.render()),this.menu.render()]})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}dealNewHand(){this.shoe.needToShuffle()&&this.shoe.newShoe(this.shoeType),this.playerHands=[],y.totalPlayerHands=0,this.playerHands.push(new y(this,this.currentBet));let e=this.playerHands[0];if(this.currentPlayerHandIndex=0,this.dealerHand=new c(this),this.dealerHand.hand.dealCard(),e.hand.dealCard(),this.dealerHand.hand.dealCard(),e.hand.dealCard(),this.dealerHand.upCardIsAce()&&!x.isBlackjack(e.hand.cards)){this.currentMenu=k.MenuInsurance,this.forceUpdateIfMounted();return}if(e.isDone()){this.dealerHand.hideDownCard=!1,this.payHands(),this.currentMenu=k.MenuGame,this.forceUpdateIfMounted();return}this.currentMenu=k.MenuHand,this.forceUpdateIfMounted()}forceUpdateIfMounted(){this.mounted&&this.forceUpdate()}formattedBet(){return(this.currentBet/100).toLocaleString("en-US",{style:"decimal"})}currentPlayerHand(){return this.playerHands[this.currentPlayerHandIndex]}allBets(){let e=0;for(let t of this.playerHands)e+=t.bet;return e}moreHandsToPlay(){return this.currentPlayerHandIndex<this.playerHands.length-1}needToPlayDealerHand(){for(let e of this.playerHands)if(!(e.isBusted()||x.isBlackjack(e.hand.cards)))return!0;return!1}splitCurrentHand(){if(!this.currentPlayerHand().canSplit())return;this.playerHands.push(new y(this,this.currentBet));let e=this.playerHands.length-1;for(;e>this.currentPlayerHandIndex;)this.playerHands[e]=y.clone(this.playerHands[e-1]),e--;let t=this.currentPlayerHand(),s=this.playerHands[this.currentPlayerHandIndex+1];s.hand.cards=[];let n=t.hand.cards[t.hand.cards.length-1];s.hand.cards.push(n),t.hand.cards.pop();let a=this.shoe.getNextCard();if(t.hand.cards.push(a),t.isDone())return void t.process();this.currentMenu=k.MenuHand,this.forceUpdate()}playMoreHands(){this.currentPlayerHandIndex++;let e=this.currentPlayerHand();if(e.hand.dealCard(),e.isDone())return void e.process();this.currentMenu=k.MenuHand,this.forceUpdate()}playDealerHand(){if(x.isBlackjack(this.dealerHand.hand.cards)&&(this.dealerHand.hideDownCard=!1),!this.needToPlayDealerHand()){this.dealerHand.hand.played=!0,this.payHands();return}this.dealerHand.hideDownCard=!1;let e=this.dealerHand.getValue(h.Soft),t=this.dealerHand.getValue(h.Hard);for(;e<18&&t<17;)this.dealerHand.hand.dealCard(),e=this.dealerHand.getValue(h.Soft),t=this.dealerHand.getValue(h.Hard);this.dealerHand.hand.played=!0,this.payHands()}insureHand(){let e=this.currentPlayerHand();e.bet/=2,e.hand.played=!0,e.paid=!0,e.status=r.Lost,this.money-=e.bet,this.currentMenu=k.MenuGame,this.forceUpdate()}noInsurance(){if(x.isBlackjack(this.dealerHand.hand.cards)){this.dealerHand.hideDownCard=!1,this.dealerHand.hand.played=!0,this.payHands(),this.currentMenu=k.MenuGame,this.forceUpdate();return}if(this.currentPlayerHand().isDone()){this.playDealerHand(),this.currentMenu=k.MenuGame,this.forceUpdate();return}this.currentMenu=k.MenuHand,this.forceUpdate()}payHands(){let e=this.dealerHand.getValue(h.Soft),t=this.dealerHand.isBusted();for(let s of this.playerHands){if(s.paid)continue;s.paid=!0;let n=s.getValue(h.Soft);t||n>e?(x.isBlackjack(s.hand.cards)&&(s.bet*=1.5),this.money+=s.bet,s.status=r.Won):n<e?(this.money-=s.bet,s.status=r.Lost):s.status=r.Push}this.normalizeCurrentBet()}gameOptions(){this.currentMenu=k.MenuOptions,this.forceUpdate()}getDeckCount(){this.currentMenu=k.MenuDeckCount,this.forceUpdate()}getDeckType(){this.currentMenu=k.MenuDeckType,this.forceUpdate()}optionsBack(){this.currentMenu=k.MenuGame,this.forceUpdate()}getNewBet(){this.currentMenu=k.MenuBet,this.forceUpdate()}updateBet(e){e.preventDefault();let t=new FormData(e.target).get("betValue");null!==t&&(this.currentBet=100*parseInt(t.toString(),10),this.normalizeCurrentBet(),this.dealNewHand(),this.currentMenu=k.MenuHand,this.forceUpdate())}normalizeCurrentBet(){this.currentBet<500?this.currentBet=500:this.currentBet>1e7&&(this.currentBet=1e7),this.currentBet>this.money&&(this.currentBet=this.money)}updateDeckCount(e){e.preventDefault();let t=new FormData(e.target).get("deckCountValue");null!==t&&(this.numDecks=parseInt(t.toString(),10),this.normalizeDeckCount(),this.currentMenu=k.MenuOptions,this.forceUpdate())}normalizeDeckCount(){this.numDecks<1?this.numDecks=1:this.numDecks>8&&(this.numDecks=8)}normalizeShoeType(){this.shoeType<0?this.shoeType=b.Regular:this.shoeType>b.ShoeTypeCount&&(this.shoeType=b.Regular)}newHandSelected(){this.currentMenu=k.MenuHand,this.dealNewHand(),this.forceUpdate()}newRegular(){this.shoeType=b.Regular,this.shoe.newRegular(),this.newHandSelected()}newAces(){this.shoeType=b.Aces,this.shoe.newAces(),this.newHandSelected()}newJacks(){this.shoeType=b.Jacks,this.shoe.newJacks(),this.newHandSelected()}newAcesJacks(){this.shoeType=b.AcesJacks,this.shoe.newAcesJacks(),this.newHandSelected()}newSevens(){this.shoeType=b.Sevens,this.shoe.newSevens(),this.newHandSelected()}newEights(){this.shoeType=b.Eights,this.shoe.newEights(),this.newHandSelected()}constructor(e){super(e),this.numDecks=8,this.shoeType=b.Regular,this.playerHands=[],this.currentPlayerHandIndex=0,this.currentBet=500,this.money=1e4,this.currentMenu=k.MenuHand,this.mounted=!1,this.shoe=new w(this.numDecks),this.dealerHand=new c(this),this.dealNewHand(),this.menu=new H({game:this}),this.dealNewHand=this.dealNewHand.bind(this),this.insureHand=this.insureHand.bind(this),this.noInsurance=this.noInsurance.bind(this),this.getNewBet=this.getNewBet.bind(this),this.updateBet=this.updateBet.bind(this),this.gameOptions=this.gameOptions.bind(this),this.optionsBack=this.optionsBack.bind(this),this.getDeckType=this.getDeckType.bind(this),this.getDeckCount=this.getDeckCount.bind(this),this.updateDeckCount=this.updateDeckCount.bind(this),this.newRegular=this.newRegular.bind(this),this.newAces=this.newAces.bind(this),this.newJacks=this.newJacks.bind(this),this.newAcesJacks=this.newAcesJacks.bind(this),this.newSevens=this.newSevens.bind(this),this.newEights=this.newEights.bind(this),this.splitCurrentHand=this.splitCurrentHand.bind(this)}}let D=x}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1992)),_N_E=e.O()}]);